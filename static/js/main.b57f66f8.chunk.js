(this["webpackJsonproute-planner"]=this["webpackJsonproute-planner"]||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var r,c=n(0),o=n.n(c),a=n(19),i=n.n(a),s=n(20),l=n(2),u=n(13),p=n(11),d=n(1),f={positions:[]},j=function(t,e){switch(e.type){case"ADD_POSITION":return{positions:[].concat(Object(p.a)(t.positions),[e.value])};case"DELETE_POSITION":return{positions:Object(p.a)(t.positions.filter((function(t){return t!==e.value})))};default:return t}},O=Object(c.createContext)(),b=function(t){var e=t.children,n=Object(c.useReducer)(j,f),r=Object(u.a)(n,2),o=r[0],a=r[1],i={positions:o.positions,addPosition:function(t){a({type:"ADD_POSITION",value:t})},deletePosition:function(t){a({type:"DELETE_POSITION",value:t})}};return Object(d.jsx)(O.Provider,{value:i,children:e})};function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function m(t,e){var n=t.title,o=t.titleId,a=v(t,["title","titleId"]);return c.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:e,"aria-labelledby":o},a),n?c.createElement("title",{id:o},n):null,r||(r=c.createElement("path",{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"})))}var x,g=c.forwardRef(m);n.p;function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function E(t,e){var n=t.title,r=t.titleId,o=y(t,["title","titleId"]);return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:e,"aria-labelledby":r},o),n?c.createElement("title",{id:r},n):null,x||(x=c.createElement("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})))}var P=c.forwardRef(E),I=(n.p,n(27),function(){var t=Object(c.useContext)(O),e=t.positions,n=t.deletePosition,r=Object(c.useState)(e),o=Object(u.a)(r,2),a=o[0],i=o[1];Object(c.useEffect)((function(){i(e)}),[e]);return a&&a.length>0?a.map((function(t,e){return Object(d.jsxs)("div",{className:"waypoint-item","data-testid":"waypoint",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(P,{className:"drag-icon"})," Waypoint ",e+1]}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{id:e,className:"delete-icon",title:"Remove Waypoint",onClick:function(e){return function(t,e){var r=Object(p.a)(a.filter((function(t){return t!==e})));i(r),n(e)}(0,t)}})})]},e)})):null}),k=(n(28),function(){var t=Object(c.useContext)(O).positions,e=t&&t.length>0,n=e?function(t){var e;return t.forEach((function(t){e+='<trkpt lat="'.concat(t.lat,'" lon="').concat(t.lng,'"></trkpt>')})),"data:text/json;charset=utf-8,"+"".concat('<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n  <gpx xmlns="https://www.topografix.com/GPX/1/1" version="1.1" \n  xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="https://www.topografix.com/GPX/1/1 \n  https://www.topografix.com/GPX/1/1/gpx.xsd"><trk><trkseg>').concat(e).concat("</trkseg></trk></gpx>")}(t):null;return Object(d.jsxs)("div",{className:"panel-container","data-testid":"panel",children:[Object(d.jsx)("h1",{children:"Route Builder"}),Object(d.jsx)("div",{className:"waypoint-container",children:e&&Object(d.jsx)(I,{})}),Object(d.jsx)("a",{className:"download-btn ".concat(n?"":"disabled"),href:n,download:"route.gpx",children:"Download your Route"})]})}),N=n(8),S=n.n(N),T=(n(29),function(){var t=Object(c.useRef)(null),e=Object(c.useContext)(O),n=e.positions,r=e.addPosition;Object(c.useEffect)((function(){var e=S.a.map(t.current,{center:[46.360521,13.7988974],zoom:13,scrollWheelZoom:!1,layers:[S.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})]});e.on("click",(function(t){r(t.latlng)}));var c=S.a.layerGroup().addTo(e);return n&&n.length>0&&(S.a.polyline(n,{}).addTo(e),o(c,e,n)),function(){e&&e.remove()}}),[n]);var o=function(t,e,n){t.clearLayers(),n.map((function(t,n){return S.a.marker(t,{icon:(r=n+1,Object(N.divIcon)({html:'<span class="marker">'.concat(r,"</span>")}))}).addTo(e);var r}))};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"map",ref:t,"data-testid":"map"})})}),L=(n(30),function(){return Object(d.jsx)(b,{children:Object(d.jsx)(s.a,{children:Object(d.jsx)(l.c,{children:Object(d.jsxs)(l.a,{path:"/route-planner",children:[Object(d.jsx)("div",{className:"grid",children:Object(d.jsx)(k,{})}),Object(d.jsx)("div",{className:"grid",children:Object(d.jsx)(T,{})})]})})})})});i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.b57f66f8.chunk.js.map